import { CodeGroup, Row, Col, Properties, Property } from "../components/mdx.jsx"

export const description =
  'On this page, weâ€™ll dive into the different permission endpoints you can use to manage permissions programmatically.'

# Permissions

The permissions is a collection with all the related permission objects attached to roles.

## List permissions {{ tag: 'GET', label: '/v1/permissions' }}

<Row>
  <Col>

    This endpoint allows you to retrieve a paginated list of all your permissions.

    # Request

    ### Optional query

    <Properties>
      <Property name="group" type="string">
        The group name for the permission.
      </Property>
      <Property name="name" type="string">
        The name for the permission.
      </Property>
    </Properties>

    # Response

    <Properties>
      <Property name="data" type="array<object>">
        Array of permission object
      </Property>
      <Property name="data._id" type="string">
        Unique identifier for the permission.
      </Property>
      <Property name="data.group" type="string">
        The group name for the permission.
      </Property>
      <Property name="data.name" type="string">
        The name for the permission.
      </Property>
      <Property name="pagination" type="object">
        Object of Pagination
      </Property>
      <Property name="pagination.page" type="number">
        Page number.
      </Property>
      <Property name="pagination.page_size" type="number">
        Number of total document per page.
      </Property>
      <Property name="pagination.page_count" type="number">
        Total page count.
      </Property>
      <Property name="pagination.total_document" type="number">
        Total filtered document.
      </Property>
    </Properties>

  </Col>
  <Col sticky>
    <CodeGroup title="Request" tag="GET" label="/v1/permissions">
    ```typescript {{ title: 'axios' }}
    const response = axios.get('/v1/permissions', {
      params: {
        filter: {
          group: 'role',
          name: 'role:create'
        }
      }
    })
    ```
    </CodeGroup>
    <CodeGroup title="Response">
    ```json {{ title: '200' }}
    {
      "permissions": [
        {
          "_id": "637b569149e0c02e1036c35a",
          "group": "role",
          "name": "role:create",
        },
        {
          "_id": "637d83d15d2be122007524bf",
          "group": "role",
          "name": "role:read",
        },
      ],
      "pagination": {
        "page": 1,
        "page_size": 1,
        "page_count": 1,
        "total_document": 2
      }
    }
    ```
    </CodeGroup>
  </Col>
</Row>
